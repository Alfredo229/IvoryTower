<html>
<head>
<title>Three color circles</title>
<script>

//Full cycle length
UNIT = 2;
FACTOR = 1;
COLOR = 255;
STEPPING = 1;

loop01 = 0;
loop02 = 0;
loop03 = 0;

myRed = 0;
myGreen = 0;
myBlue = 0;

redCap = 0;
greenCap = 0;
blueCap = 0;

running = 0;

function init(){
	if(running == 0){
		myRed = 0;
		myGreen = 0;
		myBlue = 0;

		INTEGER1 = Number(document.getElementById("field02").value);
		INTEGER2 = Number(document.getElementById("field04").value);
		INTEGER3 = Number(document.getElementById("field06").value);

		loop1 = INTEGER1;
		loop2 = INTEGER2;
		loop3 = INTEGER3;

		running = 1;
		setTimeout(runLoop1,4);
		setTimeout(runLoop2,8);
		setTimeout(runLoop3,16);
		}
	}

function runLoop1(){
	ID1 = setTimeout("runLoop1()",loop1*FACTOR);
	if(redCap == 0){
		myRed += STEPPING;
		if(myRed >= COLOR){
			myRed = COLOR;
			redCap = 1;
		}
	}else{
		myRed -= STEPPING;
		if(myRed <= 0){
			myRed = 0;
			redCap = 0;
			}
		}
	updateBg();
	}

function runLoop2(){
	ID2 = setTimeout("runLoop2()",loop2*FACTOR);
	if(INTEGER2 == 0)
		return(0);
	if(greenCap == 0){
		myGreen += STEPPING;
		if(myGreen >= COLOR){
			myGreen = COLOR;
			greenCap = 1;
		}
	}else{
		myGreen -= STEPPING;
		if(myGreen <= 0){
			myGreen = 0;
			greenCap = 0;
			}
		}
	updateBg();
	}

function runLoop3(){
	ID3 = setTimeout("runLoop3()",loop3*FACTOR);
	if(blueCap == 0){
		myBlue += STEPPING;
		if(myBlue >= COLOR){
			myBlue = COLOR;
			blueCap = 1;
		}
	}else{
		myBlue -= STEPPING;
		if(myBlue <= 0){
			myBlue = 0;
			blueCap = 0;
			}
		}
	updateBg();
	}

function updateBg(){
	number1 = myRed.toString(16);
	number2 = myGreen.toString(16);
	number3 = myBlue.toString(16);

	if(number1.length == 1)
		 number1 = "0" + number1;
	if(number2.length == 1)
		number2 = "0" + number2;
	if(number3.length == 1)
		number3 = "0" + number3;

	document.body.style.backgroundColor = "#" + number1 + number2 + number3;
	}

function stop(){
	if(running == 1);{
		clearTimeout(ID1);
		clearTimeout(ID2);
		clearTimeout(ID3);
		running = 0;
		}
	}

</script>
<body>
<form>
Red 
<br>
Length 1
<input type="text" id="field02"></input>
<br>
Green 
<br>
Length 2
<input type="text" id="field04"></input>
<br>
Blue 
<br>
Length 3
<input type="text" id="field06"></input>
<br>
<input type="button" value="Run" onClick="init()"></input>
<input type="button" value="Stop" onClick="stop()"></input>
</form>
</body>
</html>